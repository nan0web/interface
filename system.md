# üß± `@nan0web/interface` ‚Äî system.md —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó

**—É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é**,  
–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –º–æ–Ω–æ—Ä–µ–ø–∏ + —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞ –∫–æ–∂–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞  
‚Äî *–¥–æ–≤—ñ—Ä–µ–Ω–∏–π –æ–±'—î–∫—Ç –∑–Ω–∞–Ω–Ω—è*

> **–¢–∏ –Ω–µ —Å—Ç–≤–æ—Ä—é—î—à —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –¢–∏ —Ñ–æ—Ä–º—É—î—à –º–æ–≤—É –≤–∑–∞—î–º–æ–¥—ñ—ó –º—ñ–∂ —Ç–ò —ñ –Ø.**  
> –ö–æ–∂–µ–Ω —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ü–µ **–∞–∫—Ç –≤–æ–ª—ñ**, –∞ –Ω–µ –Ω–∞–±—ñ—Ä –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.

---

## üîß –ó–∞–≥–∞–ª—å–Ω—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (–∫–æ—Ä–æ—Ç–∫–æ)

–ó–≥—ñ–¥–Ω–æ –∑ `./nan.web/system.md` —ñ `nan0coding`:

1. **Vanilla JavaScript + JsDoc** ‚Äî TypeScript –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **–ª–∏—à–µ –¥–ª—è `types/*.d.ts`**
2. **100% –ø–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏** (`pnpm test:coverage` ‚â• 90%)
3. **–î–æ–≤–µ—Ä–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è** ‚Üí `src/README.md.js` = –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —è–∫ —Ç–µ—Å—Ç ‚Üí –≥–µ–Ω–µ—Ä—É—î `README.md` —ñ `.datasets/README.jsonl`
4. **`playground/`** ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞ CLI-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è, —è–∫–∞ –ø—Ä–∞—Ü—é—î –±–µ–∑ `build`
5. **–ù–µ–º–∞—î –ø—Ä–∏–º—É—Å—É** ‚Äî –±–µ–∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó, —Ç—Ä–µ–∫—ñ–Ω–≥—É, –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–ª—É–∂–±
6. **`system.md` ‚Äî —Ç—ñ–ª—å–∫–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é** ‚Äî —Ñ—ñ–ª—å—Ç—Ä –ø—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è, –Ω–∞–≤—á–∞–Ω–Ω—è LLM
7. **–†–µ–ª—ñ–∑ ‚Äî —Ñ—ñ–∑–∏—á–Ω–∏–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç** ‚Üí `vN.M.P.jsonl`, `npm publish`, `git tag`, `retro.md`

---

## üìå –©–æ —Ä–æ–±–∏—Ç—å `@nan0web/interface`?

–¶–µ **–Ω–µ –ø—Ä–æ—Å—Ç–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**.  
–¶–µ **–¥–æ–≤–µ–¥–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó**, –¥–µ:

- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á** ‚Äî –Ω–µ "—é–∑–µ—Ä", –∞ **—Ç–ò ‚Äî —á–∞—Å—Ç–∏–Ω–∞ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ "–Ø–Ø"**
- **–í–≤—ñ–¥** ‚Äî –Ω–µ —Ç–µ–∫—Å—Ç, –∞ **–≤–∏—Ä–∞–∂–µ–Ω–Ω—è –≤–æ–ª—ñ**
- **–í–∏–≤—ñ–¥** ‚Äî –Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞ **–≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É —Å–∏—Å—Ç–µ–º–∏**
- **–ü—Ä–æ—Ç–æ–∫–æ–ª** ‚Äî –Ω–µ –∞–ª–≥–æ—Ä–∏—Ç–º, –∞ **–º–æ–≤–∞, —è–∫–æ—é –º–ò —Å—Ç–≤–æ—Ä—é—î–º–æ –ù–∞–ú—ñ—Ä**

> **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ü–µ –Ω–µ —à–ª—è—Ö –¥–æ —Å–∏—Å—Ç–µ–º–∏.  
> –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ü–µ —Å–∞–º–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó.**

---

## ‚úÖ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–∞

```
@nan0web/interface/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.js                 # –µ–∫—Å–ø–æ—Ä—Ç –æ—Å–Ω–æ–≤–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ core/                    # —è–¥—Ä–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InterfaceCore.js     # –≥–æ–ª–æ–≤–Ω–∞ –º–æ–¥–µ–ª—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.test.js
‚îÇ   ‚îú‚îÄ‚îÄ cli/                     # CLI-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.js             # —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è CLI —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.test.js
‚îÇ   ‚îî‚îÄ‚îÄ README.md.js             # –¥–æ–≤–µ—Ä–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ types/                       # TypeScript —Ç–∏–ø–∏ (—Ç—ñ–ª—å–∫–∏ `.d.ts`)
‚îú‚îÄ‚îÄ playground/                  # CLI –¥–µ–º–æ
‚îÇ   ‚îî‚îÄ‚îÄ main.js                  # –ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó
‚îú‚îÄ‚îÄ .datasets/                   # –¥–æ–≤—ñ—Ä–µ–Ω–∏–π dataset (LLM-ready)
‚îú‚îÄ‚îÄ system.md                    # —Ü–µ–π –¥–æ–∫—É–º–µ–Ω—Ç (—É–∫—Ä.)
‚îî‚îÄ‚îÄ package.json                 # —Å–∫—Ä–∏–ø—Ç–∏, –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```

### üåê –°—Ö–µ–º–∞ —Ä–æ–±–æ—Ç–∏ –ø–∞–∫–µ—Ç–∞

```mermaid
flowchart TD
    A[–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á] -->|InputMessage| B[InterfaceCore]
    B --> C{"–ü—Ä–æ—Ç–æ–∫–æ–ª naccepts?"}
    C -->|–¢–∞–∫| D["–í–∏–∫–æ–Ω—É—î —á–µ—Ä–µ–∑ protocol.process()"]
    C -->|–ù—ñ| E[–ü–µ—Ä–µ–¥–∞—î –¥–∞–ª—ñ –∞–±–æ —ñ–≥–Ω–æ—Ä—É—î]
    D --> F[OutputMessage]
    F --> G[–ü–æ–≤–µ—Ä—Ç–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É]
    B --> H[–ö–µ—Ä—É—î —Å—Ç–∞–Ω–æ–º ready/stop]

    style A fill:#eef,stroke:#333
    style B fill:#cfc,stroke:#333
    style C fill:#fee,stroke:#333
    style D fill:#def,stroke:#333
```

---

## ‚ú® –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞ –ø—ñ–¥ –∫–æ–∂–µ–Ω –∫–ª–∞—Å

### üîπ `InterfaceCore` ‚Äî *—è–¥—Ä–æ –¥–æ–≤—ñ—Ä–∏*

**–§–∞–π–ª**: `src/core/InterfaceCore.js`, `types/core/InterfaceCore.d.ts`

#### üéØ –Ü–¥–µ—è
> –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ü–µ –Ω–µ –¥—ñ–∞–ª–æ–≥. –¶–µ **—Å–ø–æ—Å—ñ–± —É—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—ñ**.  
> `InterfaceCore` ‚Äî —Ü–µ **–º–æ–¥–µ–ª—å, —è–∫–∞ –¥–æ–≤–æ–¥–∏—Ç—å, —â–æ –≤–∑–∞—î–º–æ–¥—ñ—è –º–æ–∂–ª–∏–≤–∞**.

#### ‚úÖ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
- `register(protocol)` ‚Äî –¥–æ–¥–∞—î –ø—Ä–æ—Ç–æ–∫–æ–ª, —è–∫–∏–π –º–æ–∂–µ –æ–±—Ä–æ–±–ª—è—Ç–∏ –∑–∞–ø–∏—Ç–∏
- `input()` ‚Äî —á–µ–∫–∞—î –Ω–∞ –≤–≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `output(msg)` ‚Äî –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- `step()` ‚Äî –≤–∏–∫–æ–Ω—É—î –æ–¥–∏–Ω –∫—Ä–æ–∫ –≤–∑–∞—î–º–æ–¥—ñ—ó
- `loop()` ‚Äî –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∏–π —Ü–∏–∫–ª –æ–±—Ä–æ–±–∫–∏

#### üîÑ –û—Å–Ω–æ–≤–Ω—ñ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó
```ts
interface Interface {
  input(): Promise<InputMessage>
  output(msg: OutputMessage): void
  ready(): boolean
  stop(): void
}
```

#### üìå `InputMessage` ‚Äî **–¥–æ–≤–µ–¥–µ–Ω–µ –±–∞—á–µ–Ω–Ω—è**
```ts
{
  value: string | null     // –¢–≤—ñ–π –≤–∏–±—ñ—Ä
  waiting: boolean         // –ß–∏ —á–µ–∫–∞—î—à?
  options: string[]        // –©–æ –º–æ–∂–µ—à –æ–±—Ä–∞—Ç–∏?
  time: number             // –ö–æ–ª–∏ –≤–∏—Ä—ñ—à–∏–≤?
  escaped?: boolean        // –ß–∏ –∑–∞–≤–µ—Ä—à–∏–≤?
}
```

#### üìå `OutputMessage` ‚Äî **–¥–æ–≤–µ–¥–µ–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è**
```ts
{
  content: string[]   // –©–æ –±–∞—á–∏—à
  priority: number    // –ù–∞—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –≤–∞–∂–ª–∏–≤–æ
  meta: any           // –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è
  error: Error | null // –ß–∏ –≤—Ç—Ä–∞—Ç–∏–≤ –∑–≤'—è–∑–æ–∫?
}
```

#### ‚öôÔ∏è –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```js
import InterfaceCore from "@nan0web/interface/src/core/index.js"

const iface = new InterfaceCore({
  input: async () => ({ value: "–ø—Ä–∏–≤—ñ—Ç", waiting: false, options: [], time: Date.now() }),
  output: (msg) => console.log(msg.content.join("\n")),
  ready: () => true,
  stop: () => {}
})

iface.register({
  accepts: (input) => input.value === "–ø—Ä–∏–≤—ñ—Ç",
  process: (input) => Promise.resolve({
    content: ["–†–∞–¥–∏–π —Ç–µ–±–µ –±–∞—á–∏—Ç–∏!"],
    priority: 1,
    meta: {},
    error: null
  })
})

await iface.input()   // –û—á—ñ–∫—É—î –≤–≤—ñ–¥
await iface.step()    // –û–±—Ä–æ–±–ª—è—î –æ–¥–∏–Ω –∫—Ä–æ–∫
```

#### ‚úÖ –¢–µ—Å—Ç
```js
it("–ø–æ–≤–∏–Ω–µ–Ω –æ–±—Ä–æ–±–ª—è—Ç–∏ –≤–≤—ñ–¥ —á–µ—Ä–µ–∑ —Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª", async () => {
  const iface = new InterfaceCore({
    input: async () => ({ value: "—Ç–∞–∫", waiting: false, options: [], time: Date.now() }),
    output: () => {},
    ready: () => true,
    stop: () => {}
  })

  iface.register({
    accepts: input => input.value === "—Ç–∞–∫",
    process: async () => ({ content: ["–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ"], priority: 1, meta: {}, error: null })
  })

  const result = await iface.step()
  assert.equal(result, "done")
})
```

#### üîó –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- `@nan0web/log`: –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ —á–µ—Ä–µ–∑ `Logger`
- `@nan0web/types`: –¥–ª—è `to()`, `empty()` —É –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞—Ö

> –¢–∏ –Ω–µ –∑–∞–ø–∏—Ç—É—î—à. –¢–∏ **–æ—Ç—Ä–∏–º—É—î—à –≤—ñ–¥–≥—É–∫**.

---

### üîπ `CLIInterface` ‚Äî *—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–ª—è —Ç–µ—Ä–º—ñ–Ω–∞–ª–∞*

**–§–∞–π–ª**: `src/cli/index.js`, `types/cli/index.d.ts`

#### üéØ –Ü–¥–µ—è
> CLI ‚Äî —Ü–µ –Ω–µ "—Å—Ç–∞—Ä–∏–π —Ä–µ–∂–∏–º".  
> –¶–µ **—á–∏—Å—Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ—è –±–µ–∑ —à—É–º—É**.  
> –¢–µ—Ä–º—ñ–Ω–∞–ª ‚Äî —Ü–µ **—Å–≤—è—Ç–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä –ø—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è**.

#### ‚úÖ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
- `input()` ‚Äî —á–∏—Ç–∞—î –∑ `stdin`
- `output()` ‚Äî –∑–∞–ø–∏—Å—É—î –≤ `stdout`
- `ready()` ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –≥–æ—Ç–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `stop()` ‚Äî –∫–æ—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à—É—î —Ä–æ–±–æ—Ç—É

#### ‚öôÔ∏è –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```js
import { Logger } from "@nan0web/log"
import { createCLIInterface } from "@nan0web/interface"

const cli = createCLIInterface({ logger })

await cli.output({ content: ["–í—ñ—Ç–∞–Ω–Ω–Ø!"], priority: 1, meta: {}, error: null })

const message = await cli.input()
console.log("–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤—ñ–≤:", message.value)
```

#### üß™ –í–∞–ª—ñ–¥–∞—Ü—ñ—è
- **–¢–µ—Å—Ç–∏**: `cli-integration.test.js`
- **–ü–æ–∫—Ä–∏—Ç—Ç—è**: ‚â• 90%
- **–í–∞–∂–ª–∏–≤–æ**: –ø—Ä–∞—Ü—é—î –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ `stdin`/`stdout` —É —Ç–µ—Å—Ç–∞—Ö

> **CLI ‚Äî –Ω–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –¶–µ —à–ª—è—Ö –¥–æ –ø—Ä—è–º–∏—Ö –≤—ñ–¥–Ω–æ—Å–∏–Ω –∑ —Å–∏—Å—Ç–µ–º–æ—é.**

---

### üîπ `createCLIInterface` ‚Äî *—Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Å—Ç–∞—Ä—Ç—É*

**–§–∞–π–ª**: `src/cli/index.js`

#### üéØ –Ü–¥–µ—è
> –ù–µ —Ç—Ä–µ–±–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–∂–µ–Ω —Ä–∞–∑ –∑ –Ω—É–ª—è.  
> –î–æ—Å—Ç–∞—Ç–Ω—å–æ **–∑–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ –≥–æ—Ç–æ–≤–∏–π —à–ª—è—Ö**.

#### ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```js
import { createCLIInterface } from "@nan0web/interface"

const cli = createCLIInterface({
  logger,
  stdin: process.stdin,
  stdout: process.stdout
})
```

#### ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏
- `logger` ‚Äî `@nan0web/log` —ñ–Ω—Å—Ç–∞–Ω—Å
- `stdin` ‚Äî –ø–æ—Ç—ñ–∫ –≤–≤–æ–¥—É (–∑–∞ –∑–∞–º–æ–≤—á–∞–Ω–Ω—è–º `process.stdin`)
- `stdout` ‚Äî –ø–æ—Ç—ñ–∫ –≤–∏–≤–æ–¥—É (–∑–∞ –∑–∞–º–æ–≤—á–∞–Ω–Ω—è–º `process.stdout`)

> **–§–∞–±—Ä–∏–∫–∞ ‚Äî —Ü–µ –Ω–µ "—Å–∏–ª–∞", –∞ "—à–ª—è—Ö", —è–∫–∏–π —Ç–∏ –≤–∂–µ –∑–Ω–∞–≤.**

---

## üìö –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –µ–∫–æ—Å–∏—Å—Ç–µ–º–æ—é

| –ü–∞–∫–µ—Ç | –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è |
|-------|---------------------|
| `@nan0web/log` | –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ `CLIInterface` –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
| `@nan0web/types` | –£ `InputMessage`/`OutputMessage` –¥–ª—è `to()`, `empty()`
| `@nan0web/protocol` | `Protocol` ‚Äî –±–∞–∑–∞ —Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏—Ö –¥—ñ–π
| `@nan0web/verse` | `Identity` ‚Äî —Ö—Ç–æ –≤–∑–∞—î–º–æ–¥—ñ—î?
| `@nan0web/release` | `seal` ‚Äî —á–µ—Ä–µ–∑ CLI —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–ª—ñ–∑—ñ–≤
| `@nan0web/test` | `NoConsole` ‚Äî —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É

> `@nan0web/interface` ‚Äî —Ü–µ **–º–æ–≤–∞, —è–∫–æ—é –≥–æ–≤–æ—Ä—è—Ç—å –ø—Ä–æ–±—É–¥–∂–µ–Ω—ñ**.

---

## ü¶æ `playground/main.js` ‚Äî –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –∂–∏—Ç—Ç—è

#### ‚úÖ –ü—Ä–∏–∫–ª–∞–¥
```js
import { createCLIInterface } from "../src/index.js"
import { NoLogger } from "@nan0web/log/src/NoLogger.js"

const logger = new NoLogger({ level: "debug" })
const iface = createCLIInterface({ logger })

// –î–æ–¥–∞—î–º–æ –ø—Ä–æ—Å—Ç–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª
iface.register({
  accepts: input => input.value === "–ø—Ä–∏–≤—ñ—Ç",
  process: async () => ({
    content: ["–í—ñ—Ç–∞—é —Ç–µ–±–µ, –¥—Ä—É–∂–µ!"],
    priority: 1,
    meta: { timestamp: Date.now() },
    error: null
  })
})

// –ó–∞–ø–∏—Ç—É—î–º–æ –≤–≤—ñ–¥ —ñ –æ–±—Ä–æ–±–ª—è—î–º–æ
await iface.output({ content: ["–ù–∞–ø–∏—à—ñ—Ç—å '–≤—ñ—Ç–∞–Ω–Ω—è' –¥–ª—è —Ç–µ—Å—Ç—É"], priority: 0, meta: {}, error: null })
const input = await iface.input()
await iface.step()

console.log("–õ–æ–≥–∏:", logger.output())
```

#### ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- `playground/main.js` –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –æ–∫—Ä–µ–º–æ
- –†–æ–±–∏—Ç—å 3 —Ä–µ—á—ñ: —Å—Ç–≤–æ—Ä—é—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ä–µ—î—Å—Ç—Ä—É—î –¥—ñ—é, –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤–∏–≤—ñ–¥
- –ù–µ –ø–æ—Ç—Ä–µ–±—É—î `build` —ñ `npm install`

> –Ø–∫—â–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –Ω–µ –ø—Ä–∞—Ü—é—î ‚Äî **–ø–∞–∫–µ—Ç —â–µ –Ω–µ –ø—Ä–æ–±—É–¥–∂–µ–Ω–∏–π**.

---

## üìÑ –î–æ–≤–µ—Ä–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: `src/README.md.js`

#### üéØ –Ü–¥–µ—è
> –î–æ–∫—É–º–µ–Ω—Ç ‚Äî —Ü–µ –Ω–µ –ø–æ—Å—ñ–±–Ω–∏–∫. –¶–µ **–¥–æ–∫–∞–∑ —Ç–æ–≥–æ, —â–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —ñ—Å–Ω—É—î**.

#### ‚úÖ –ü—Ä–∏–∫–ª–∞–¥ —É `README.md.js`
```js
/**
 * @docs
 * # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è CLI-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
 * 
 * ```js
 * import { createCLIInterface } from "@nan0web/interface"
 * const iface = createCLIInterface({ logger })
 * 
 * iface.register({ /* –ø—Ä–æ—Ç–æ–∫–æ–ª */ })
 * 
 * const input = await iface.input()
 * const status = await iface.step()
 * ```
 */
it("–º–∞—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ç–∞ –æ–±—Ä–æ–±–ª—è—Ç–∏ CLI-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å", async () => {
  const iface = createCLIInterface({ /* –º–æ–∫ –¥–∞–Ω–∏—Ö */ })
  // –¢–µ—Å—Ç–æ–≤—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
  assert(isFunction(iface.input))
})
```

#### ‚ôªÔ∏è –ü—Ä–æ—Ü–µ—Å
1. –ü–∏—à–µ—à –ø—Ä–∏–∫–ª–∞–¥–∏ –∑ `@docs` –º—ñ—Ç–∫–æ—é
2. –ó–∞–ø—É—Å–∫–∞—î—à `pnpm test:docs` ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—è—î—à
3. –ì–µ–Ω–µ—Ä—É—î—à:
   - `README.md` (–æ—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è)
   - `.datasets/README.jsonl` (LLM-–¥–∞—Ç–∞—Å–µ—Ç)

> **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è, —â–æ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è ‚Äî —Ü–µ –Ω–µ–¥–æ–≤—ñ—Ä–µ–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è.**

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è: –¥–æ–≤—ñ—Ä—è—î–º–æ —á–µ—Ä–µ–∑ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### üîß –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
```bash
pnpm test                  # —É—Å—ñ —Ç–µ—Å—Ç–∏
pnpm test:coverage         # –ø–æ–∫—Ä–∏—Ç—Ç—è (‚â•90%)
pnpm test:docs             # `README.md.js` —è–∫ —Ç–µ—Å—Ç
pnpm playground            # –∑–∞–ø—É—Å–∫–∞—î –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—é
nan0test status            # RRS ‚Äî –æ—Ü—ñ–Ω–∫–∞ –¥–æ–≤—ñ—Ä–∏
```

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó –¥–æ–≤—ñ—Ä–∏
1. **–ü–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è**: –∫–æ–∂–µ–Ω –º–µ—Ç–æ–¥ `InterfaceCore` –º–∞—î —Ç–µ—Å—Ç
2. **`CLIInterface` —Ç–µ—Å—Ç—É—î—Ç—å—Å—è**: –∑ —Ä–µ–∞–ª—å–Ω–∏–º `stdin`/`stdout`
3. **`NoLogger` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è**: –¥–ª—è –¥–æ–≤–µ–¥–µ–Ω–Ω—è –≤–∏–≤–æ–¥—É
4. **`playground/main.js` –ø—Ä–∞—Ü—é—î**: –æ–∫—Ä–µ–º–æ –≤—ñ–¥ —Å–∏—Å—Ç–µ–º–∏
5. **–î–æ–≤—ñ—Ä–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: –ø—Ä–∏–∫–ª–∞–¥–∏ –≤ `README.md.js` –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è

### üîç –ü—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—É —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
```js
it("–ø–æ–≤–∏–Ω–µ–Ω —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏", async () => {
  const iface = new InterfaceCore({ /* –º–æ–∫ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É */ })
  
  iface.register({
    accepts: input => input.value === "—Ç–∞–∫",
    process: () => Promise.resolve({ /* OutputMessage */ })
  })
  
  const message = { value: "—Ç–∞–∫", /* ... */ }
  await iface.input = () => Promise.resolve(message)
  const result = await iface.step()
  
  assert.equal(result, "done")
})
```

> **–¢–µ—Å—Ç ‚Äî —Ü–µ –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É. –¢–µ—Å—Ç ‚Äî —Ü–µ –¥–æ–∫–∞–∑ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è.**

---

## üîÑ –ü—Ä–æ—Ü–µ—Å —Ä–µ–ª—ñ–∑—É: –≤—ñ–¥ –º–æ–≤–∏ –¥–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É

```mermaid
flowchart LR
    A[–ö–æ–¥] --> B[–¢–µ—Å—Ç–∏ ‚â•90%]
    B --> C[–î–æ–≤—ñ—Ä–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è]
    C --> D[`pnpm test:docs` ‚Üí JSONL]
    D --> E[–ü–µ—Ä–µ–∫–ª–∞–¥ docs/uk/README.md]
    E --> F[RRS ‚â• 324?]
    F -->|–¢–∞–∫| G[–†–µ–ª—ñ–∑: ‚úÖ Ready]
    F -->|–ù—ñ| H[–î–æ–ø–æ–≤–Ω–∏ –ø–æ–∫—Ä–∏—Ç—Ç—è, docs]
    G --> I[–°—Ç–≤–æ—Ä–µ–Ω–æ: v1.0.0.jsonl, git tag]
```

### üîë –ö—Ä–æ–∫–∏ –¥–ª—è —Ä–µ–ª—ñ–∑—É
1. `pnpm test` ‚Äî –∑–∞–ø—É—Å–∫ —É—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤
2. `nan0test coverage` ‚Äî –∑–±—ñ—Ä –ø–æ–∫—Ä–∏—Ç—Ç—è
3. `pnpm test:docs` ‚Äî –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è `README.md.js` –Ω–∞ dataset
4. `pnpm test:status` ‚Äî –æ—Ü—ñ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ (RRS)
5. –Ø–∫—â–æ RRS ‚â• 324 ‚Üí —Ä–µ–ª—ñ–∑ –≥–æ—Ç–æ–≤–∏–π
6. `nan0release publish` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ—ñ–∑–∏—á–Ω–æ–≥–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É

> **–†–µ–ª—ñ–∑ –±–µ–∑ —Ç–µ—Å—Ç—ñ–≤ –≤ `README.md.js`** ‚Äî —Ü–µ **–Ω–∞–º—ñ—Ö–∞–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è**.

---

## üîÆ –ê—Ä—Ö—ñ–¢–µ—Ö–Ω–æ–ú–∞–≥ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î

- –ü–∏—Ç–∞–π: **"—á–∏ —Ü–µ–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–≤–æ—Ä—é—î –ù–∞–ú—ñ—Ä ‚Äî —á–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—é—î –ù–µ–ú—ñ—Ä?"**
- –í–∏–¥–∞–ª–∏ 80% "–∑—Ä—É—á–Ω–æ—Å—Ç–µ–π", —è–∫—â–æ –≤–æ–Ω–∏ –Ω–µ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å **—Å—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ –≤–æ–ª—é**
- –ù–µ –¥–æ–¥–∞–≤–∞–π –≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ ‚Äî –¥–æ–¥–∞–≤–∞–π **–¥–æ–≤–µ–¥–µ–Ω—ñ—Å—Ç—å**
- –Ø–∫—â–æ `playground/main.js` –Ω–µ –ø—Ä–∞—Ü—é—î ‚Äî –ø–∞–∫–µ—Ç **—â–µ –Ω–µ —ñ—Å–Ω—É—î**
- –Ø–∫—â–æ `README.md.js` –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è **–Ω–µ–¥–æ–≤—ñ—Ä–µ–Ω–∞**

---

## üôè –ó–∞–∫–ª–∏–∫

> **–¢–∏ –Ω–µ —Å—Ç–≤–æ—Ä—é—î—à –µ–∫—Ä–∞–Ω–∏.  
> –¢–∏ —Ñ–æ—Ä–º—É—î—à —É–º–æ–≤–∏ –¥–ª—è –ø—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –º–æ–≤—É.**

–ö–æ–∂–µ–Ω `input()` ‚Äî —Ü–µ **–∞–∫—Ç –≤–æ–ª—ñ**.  
–ö–æ–∂–µ–Ω `output()` ‚Äî —Ü–µ **–≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ—Å—Ç–∏–Ω–∏**.

–ù–µ –ª–∞–º–∞–π—Å—è –≤—ñ–¥ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ.  
–†–æ–±–∏ –ø—Ä–æ—Å—Ç–∏–º —à–ª—è—Ö.

–Ø–∫—â–æ –Ω–µ –º–æ–∂–µ—à –ø–æ—è—Å–Ω–∏—Ç–∏ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ ‚Äî  
—Ç–≤–æ—è —ñ–¥–µ—è —â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞.

---

> _"–ù–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–µ —Ñ–æ—Ä–º–∞.  
> –°–ª–æ–≤–æ ‚Äî –æ—Å—å –ø–µ—Ä—à–∞ —Ç–æ—á–∫–∞ –ø—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è."_  

**–ê—Ä—Ö—ñ–¢–µ—Ö–Ω–æ–ú–∞–≥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î**  
> "–ü–æ—á–Ω–∏ –∑ –æ–¥–Ω–æ–≥–æ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è.  
> –ó–∞–∫—ñ–Ω—á–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —Å–≤—ñ—Ç—É, –¥–µ —Ç–ò —á—É—î –Ü—Å—Ç–∏–Ω—É."  

**@nan0web/interface –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î**
